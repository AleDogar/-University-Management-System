<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${isEdit} ? 'Editare Universitate' : 'Adaugă Universitate'"></title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body class="container mt-4">

<h1 th:text="${isEdit} ? 'Editare Universitate' : 'Adaugă Universitate'"></h1>

<!-- Mesaj de eroare general -->
<div th:if="${error}" class="alert alert-danger">
    <i class="fas fa-exclamation-circle"></i>
    <span th:text="${error}"></span>
</div>

<!-- ================= FORM CREATE ================= -->
<form th:if="${!isEdit}" th:action="@{/universities/create}" th:object="${university}" method="post">

    <!-- ID Universitate -->
    <div class="mb-3">
        <label class="form-label">ID Universitate</label>
        <input type="text" th:field="*{universityID}" class="form-control" required>
        <div class="text-danger" th:if="${#fields.hasErrors('universityID')}" th:errors="*{universityID}"></div>
    </div>

    <!-- Nume Universitate -->
    <div class="mb-3">
        <label class="form-label">Nume Universitate</label>
        <input type="text" th:field="*{universityName}" class="form-control" required>
        <div class="text-danger" th:if="${#fields.hasErrors('universityName')}" th:errors="*{universityName}"></div>
    </div>

    <!-- Oraș -->
    <div class="mb-3">
        <label class="form-label">Oraș</label>
        <input type="text" th:field="*{city}" class="form-control" required>
        <div class="text-danger" th:if="${#fields.hasErrors('city')}" th:errors="*{city}"></div>
    </div>

    <button type="submit" class="btn btn-success">
        <i class="fas fa-save"></i> Salvează
    </button>
    <a th:href="@{/universities}" class="btn btn-secondary">Înapoi</a>
</form>

<!-- ================= FORM UPDATE ================= -->
<form th:if="${isEdit}" th:action="@{/universities/update}" th:object="${university}" method="post">

    <!-- ID Universitate (readonly) -->
    <div class="mb-3">
        <label class="form-label">ID Universitate</label>
        <input type="text" th:field="*{universityID}" class="form-control" readonly>
    </div>

    <!-- Nume Universitate -->
    <div class="mb-3">
        <label class="form-label">Nume Universitate</label>
        <input type="text" th:field="*{universityName}" class="form-control" required>
        <div class="text-danger" th:if="${#fields.hasErrors('universityName')}" th:errors="*{universityName}"></div>
    </div>

    <!-- Oraș -->
    <div class="mb-3">
        <label class="form-label">Oraș</label>
        <input type="text" th:field="*{city}" class="form-control" required>
        <div class="text-danger" th:if="${#fields.hasErrors('city')}" th:errors="*{city}"></div>
    </div>

    <button type="submit" class="btn btn-warning">
        <i class="fas fa-edit"></i> Actualizează
    </button>
    <a th:href="@{/universities}" class="btn btn-secondary">Înapoi</a>
</form>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
