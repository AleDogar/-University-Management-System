<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Teaching Assignments</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h1>Teaching Assignments</h1>

    <div th:if="${message}" class="alert alert-success">
        <span th:text="${message}"></span>
    </div>

    <div th:if="${error}" class="alert alert-danger">
        <span th:text="${error}"></span>
    </div>

    <a th:href="@{/teaching-assignments/new}" class="btn btn-primary mb-3">
        + Adaugă Asignare Nouă
    </a>

    <table class="table table-bordered">
        <thead class="table-dark">
        <tr>
            <th>ID Asignare</th>
            <th>ID Curs</th>
            <th>ID Staff</th>
            <th>Tip Activitate</th>
            <th>Acțiuni</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="entry : ${assignments}">
            <td th:text="${entry.key}">TA1</td>
            <td th:text="${entry.value.courseId}">C1</td>
            <td th:text="${entry.value.staffId}">T1</td>
            <td th:text="${entry.value.classType}">COURSE</td>
            <td>
                <a th:href="@{/teaching-assignments/{id}(id=${entry.key})}"
                   class="btn btn-info btn-sm">Detalii</a>
                <a th:href="@{/teaching-assignments/{id}/edit(id=${entry.key})}"
                   class="btn btn-warning btn-sm">Editare</a>
                <form th:action="@{/teaching-assignments/{id}/delete(id=${entry.key})}"
                      method="post" style="display: inline;">
                    <button type="submit" class="btn btn-danger btn-sm">Șterge</button>
                </form>
            </td>
        </tr>

        <tr th:if="${#maps.isEmpty(assignments)}">
            <td colspan="5" class="text-center">Nu există asignări</td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>